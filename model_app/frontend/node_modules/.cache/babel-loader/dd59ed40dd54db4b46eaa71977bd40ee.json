{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _omit = require('./utils/omit');\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nvar _shallowEqual = require('./utils/shallowEqual');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // utils\n\n\nvar mainStyle = {\n  width: '100%',\n  height: '100%',\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: 'absolute'\n};\nvar style = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  backgroundColor: 'transparent',\n  position: 'absolute'\n};\n\nvar GoogleMapMarkers = function (_Component) {\n  _inherits(GoogleMapMarkers, _Component);\n  /* eslint-disable react/forbid-prop-types */\n\n\n  function GoogleMapMarkers(props) {\n    _classCallCheck(this, GoogleMapMarkers);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this._getState = function () {\n      return {\n        children: _this.props.dispatcher.getChildren(),\n        updateCounter: _this.props.dispatcher.getUpdateCounter()\n      };\n    };\n\n    _this._onChangeHandler = function () {\n      if (!_this.dimensionsCache_) {\n        return;\n      }\n\n      var prevChildCount = (_this.state.children || []).length;\n\n      var state = _this._getState();\n\n      _this.setState(state, function () {\n        return (state.children || []).length !== prevChildCount && _this._onMouseChangeHandler();\n      });\n    };\n\n    _this._onChildClick = function () {\n      if (_this.props.onChildClick) {\n        if (_this.hoverChildProps_) {\n          var hoverKey = _this.hoverKey_;\n          var childProps = _this.hoverChildProps_; // click works only on hovered item\n\n          _this.props.onChildClick(hoverKey, childProps);\n        }\n      }\n    };\n\n    _this._onChildMouseDown = function () {\n      if (_this.props.onChildMouseDown) {\n        if (_this.hoverChildProps_) {\n          var hoverKey = _this.hoverKey_;\n          var childProps = _this.hoverChildProps_; // works only on hovered item\n\n          _this.props.onChildMouseDown(hoverKey, childProps);\n        }\n      }\n    };\n\n    _this._onChildMouseEnter = function (hoverKey, childProps) {\n      if (!_this.dimensionsCache_) {\n        return;\n      }\n\n      if (_this.props.onChildMouseEnter) {\n        _this.props.onChildMouseEnter(hoverKey, childProps);\n      }\n\n      _this.hoverChildProps_ = childProps;\n      _this.hoverKey_ = hoverKey;\n\n      _this.setState({\n        hoverKey: hoverKey\n      });\n    };\n\n    _this._onChildMouseLeave = function () {\n      if (!_this.dimensionsCache_) {\n        return;\n      }\n\n      var hoverKey = _this.hoverKey_;\n      var childProps = _this.hoverChildProps_;\n\n      if (hoverKey !== undefined && hoverKey !== null) {\n        if (_this.props.onChildMouseLeave) {\n          _this.props.onChildMouseLeave(hoverKey, childProps);\n        }\n\n        _this.hoverKey_ = null;\n        _this.hoverChildProps_ = null;\n\n        _this.setState({\n          hoverKey: null\n        });\n      }\n    };\n\n    _this._onMouseAllow = function (value) {\n      if (!value) {\n        _this._onChildMouseLeave();\n      }\n\n      _this.allowMouse_ = value;\n    };\n\n    _this._onMouseChangeHandler = function () {\n      if (_this.allowMouse_) {\n        _this._onMouseChangeHandlerRaf();\n      }\n    };\n\n    _this._onMouseChangeHandlerRaf = function () {\n      if (!_this.dimensionsCache_) {\n        return;\n      }\n\n      var mp = _this.props.dispatcher.getMousePosition();\n\n      if (mp) {\n        var distances = [];\n\n        var hoverDistance = _this.props.getHoverDistance();\n\n        _react2.default.Children.forEach(_this.state.children, function (child, childIndex) {\n          if (!child) return; // layers\n\n          if (child.props.latLng === undefined && child.props.lat === undefined && child.props.lng === undefined) {\n            return;\n          }\n\n          var childKey = child.key !== undefined && child.key !== null ? child.key : childIndex;\n\n          var dist = _this.props.distanceToMouse(_this.dimensionsCache_[childKey], mp, child.props);\n\n          if (dist < hoverDistance) {\n            distances.push({\n              key: childKey,\n              dist: dist,\n              props: child.props\n            });\n          }\n        });\n\n        if (distances.length) {\n          distances.sort(function (a, b) {\n            return a.dist - b.dist;\n          });\n          var hoverKey = distances[0].key;\n          var childProps = distances[0].props;\n\n          if (_this.hoverKey_ !== hoverKey) {\n            _this._onChildMouseLeave();\n\n            _this._onChildMouseEnter(hoverKey, childProps);\n          }\n        } else {\n          _this._onChildMouseLeave();\n        }\n      } else {\n        _this._onChildMouseLeave();\n      }\n    };\n\n    _this._getDimensions = function (key) {\n      var childKey = key;\n      return _this.dimensionsCache_[childKey];\n    };\n\n    _this.props.dispatcher.on('kON_CHANGE', _this._onChangeHandler);\n\n    _this.props.dispatcher.on('kON_MOUSE_POSITION_CHANGE', _this._onMouseChangeHandler);\n\n    _this.props.dispatcher.on('kON_CLICK', _this._onChildClick);\n\n    _this.props.dispatcher.on('kON_MDOWN', _this._onChildMouseDown);\n\n    _this.dimensionsCache_ = {};\n    _this.hoverKey_ = null;\n    _this.hoverChildProps_ = null;\n    _this.allowMouse_ = true;\n    _this.state = _extends({}, _this._getState(), {\n      hoverKey: null\n    });\n    return _this;\n  }\n  /* eslint-enable react/forbid-prop-types */\n\n\n  GoogleMapMarkers.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.experimental === true) {\n      return !(0, _shallowEqual2.default)(this.props, nextProps) || !(0, _shallowEqual2.default)((0, _omit2.default)(this.state, ['hoverKey']), (0, _omit2.default)(nextState, ['hoverKey']));\n    }\n\n    return !(0, _shallowEqual2.default)(this.props, nextProps) || !(0, _shallowEqual2.default)(this.state, nextState);\n  };\n\n  GoogleMapMarkers.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.dispatcher.removeListener('kON_CHANGE', this._onChangeHandler);\n    this.props.dispatcher.removeListener('kON_MOUSE_POSITION_CHANGE', this._onMouseChangeHandler);\n    this.props.dispatcher.removeListener('kON_CLICK', this._onChildClick);\n    this.props.dispatcher.removeListener('kON_MDOWN', this._onChildMouseDown);\n    this.dimensionsCache_ = null;\n  };\n\n  GoogleMapMarkers.prototype.render = function render() {\n    var _this2 = this;\n\n    var mainElementStyle = this.props.style || mainStyle;\n    this.dimensionsCache_ = {};\n\n    var markers = _react2.default.Children.map(this.state.children, function (child, childIndex) {\n      if (!child) return undefined;\n\n      if (child.props.latLng === undefined && child.props.lat === undefined && child.props.lng === undefined) {\n        return _react2.default.cloneElement(child, {\n          $geoService: _this2.props.geoService,\n          $onMouseAllow: _this2._onMouseAllow,\n          $prerender: _this2.props.prerender\n        });\n      }\n\n      var latLng = child.props.latLng !== undefined ? child.props.latLng : {\n        lat: child.props.lat,\n        lng: child.props.lng\n      };\n      var pt = _this2.props.insideMapPanes ? _this2.props.geoService.fromLatLngToDivPixel(latLng) : _this2.props.geoService.fromLatLngToCenterPixel(latLng);\n      var stylePtPos = {\n        left: pt.x,\n        top: pt.y\n      }; // If the component has a southeast corner defined (either as a LatLng, or a separate\n      // lat and lng pair), set the width and height based on the distance between the northwest\n      // and the southeast corner to lock the overlay to the correct geographic bounds.\n\n      if (child.props.seLatLng !== undefined || child.props.seLat !== undefined && child.props.seLng !== undefined) {\n        var seLatLng = child.props.seLatLng !== undefined ? child.props.seLatLng : {\n          lat: child.props.seLat,\n          lng: child.props.seLng\n        };\n        var sePt = _this2.props.insideMapPanes ? _this2.props.geoService.fromLatLngToDivPixel(seLatLng) : _this2.props.geoService.fromLatLngToCenterPixel(seLatLng);\n        stylePtPos.width = sePt.x - pt.x;\n        stylePtPos.height = sePt.y - pt.y;\n      }\n\n      var containerPt = _this2.props.geoService.fromLatLngToContainerPixel(latLng); // to prevent rerender on child element i need to pass\n      // const params $getDimensions and $dimensionKey instead of dimension object\n\n\n      var childKey = child.key !== undefined && child.key !== null ? child.key : childIndex;\n      _this2.dimensionsCache_[childKey] = _extends({\n        x: containerPt.x,\n        y: containerPt.y\n      }, latLng);\n      return _react2.default.createElement('div', {\n        key: childKey,\n        style: _extends({}, style, stylePtPos),\n        className: child.props.$markerHolderClassName\n      }, _react2.default.cloneElement(child, {\n        $hover: childKey === _this2.state.hoverKey,\n        $getDimensions: _this2._getDimensions,\n        $dimensionKey: childKey,\n        $geoService: _this2.props.geoService,\n        $onMouseAllow: _this2._onMouseAllow,\n        $prerender: _this2.props.prerender\n      }));\n    });\n\n    return _react2.default.createElement('div', {\n      style: mainElementStyle\n    }, markers);\n  };\n\n  return GoogleMapMarkers;\n}(_react.Component);\n\nGoogleMapMarkers.propTypes = {\n  geoService: _propTypes2.default.any,\n  style: _propTypes2.default.any,\n  distanceToMouse: _propTypes2.default.func,\n  dispatcher: _propTypes2.default.any,\n  onChildClick: _propTypes2.default.func,\n  onChildMouseDown: _propTypes2.default.func,\n  onChildMouseLeave: _propTypes2.default.func,\n  onChildMouseEnter: _propTypes2.default.func,\n  getHoverDistance: _propTypes2.default.func,\n  insideMapPanes: _propTypes2.default.bool,\n  prerender: _propTypes2.default.bool\n};\nGoogleMapMarkers.defaultProps = {\n  insideMapPanes: false,\n  prerender: false\n};\nexports.default = GoogleMapMarkers;","map":{"version":3,"sources":["C:/Users/Mathias/Documents/Delineo/Website/model_app/frontend/node_modules/google-map-react/lib/google_map_markers.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_omit","_omit2","_shallowEqual","_shallowEqual2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","mainStyle","width","height","left","top","margin","padding","position","style","backgroundColor","GoogleMapMarkers","_Component","props","_this","_getState","children","dispatcher","getChildren","updateCounter","getUpdateCounter","_onChangeHandler","dimensionsCache_","prevChildCount","state","setState","_onMouseChangeHandler","_onChildClick","onChildClick","hoverChildProps_","hoverKey","hoverKey_","childProps","_onChildMouseDown","onChildMouseDown","_onChildMouseEnter","onChildMouseEnter","_onChildMouseLeave","undefined","onChildMouseLeave","_onMouseAllow","allowMouse_","_onMouseChangeHandlerRaf","mp","getMousePosition","distances","hoverDistance","getHoverDistance","Children","forEach","child","childIndex","latLng","lat","lng","childKey","dist","distanceToMouse","push","sort","a","b","_getDimensions","on","shouldComponentUpdate","nextProps","nextState","experimental","componentWillUnmount","removeListener","render","_this2","mainElementStyle","markers","map","cloneElement","$geoService","geoService","$onMouseAllow","$prerender","prerender","pt","insideMapPanes","fromLatLngToDivPixel","fromLatLngToCenterPixel","stylePtPos","x","y","seLatLng","seLat","seLng","sePt","containerPt","fromLatLngToContainerPixel","createElement","className","$markerHolderClassName","$hover","$getDimensions","$dimensionKey","Component","propTypes","any","func","bool","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _omit = require('./utils/omit');\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nvar _shallowEqual = require('./utils/shallowEqual');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// utils\n\n\nvar mainStyle = {\n  width: '100%',\n  height: '100%',\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: 'absolute'\n};\n\nvar style = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  backgroundColor: 'transparent',\n  position: 'absolute'\n};\n\nvar GoogleMapMarkers = function (_Component) {\n  _inherits(GoogleMapMarkers, _Component);\n\n  /* eslint-disable react/forbid-prop-types */\n  function GoogleMapMarkers(props) {\n    _classCallCheck(this, GoogleMapMarkers);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this._getState = function () {\n      return {\n        children: _this.props.dispatcher.getChildren(),\n        updateCounter: _this.props.dispatcher.getUpdateCounter()\n      };\n    };\n\n    _this._onChangeHandler = function () {\n      if (!_this.dimensionsCache_) {\n        return;\n      }\n\n      var prevChildCount = (_this.state.children || []).length;\n      var state = _this._getState();\n\n      _this.setState(state, function () {\n        return (state.children || []).length !== prevChildCount && _this._onMouseChangeHandler();\n      });\n    };\n\n    _this._onChildClick = function () {\n      if (_this.props.onChildClick) {\n        if (_this.hoverChildProps_) {\n          var hoverKey = _this.hoverKey_;\n          var childProps = _this.hoverChildProps_;\n          // click works only on hovered item\n          _this.props.onChildClick(hoverKey, childProps);\n        }\n      }\n    };\n\n    _this._onChildMouseDown = function () {\n      if (_this.props.onChildMouseDown) {\n        if (_this.hoverChildProps_) {\n          var hoverKey = _this.hoverKey_;\n          var childProps = _this.hoverChildProps_;\n          // works only on hovered item\n          _this.props.onChildMouseDown(hoverKey, childProps);\n        }\n      }\n    };\n\n    _this._onChildMouseEnter = function (hoverKey, childProps) {\n      if (!_this.dimensionsCache_) {\n        return;\n      }\n\n      if (_this.props.onChildMouseEnter) {\n        _this.props.onChildMouseEnter(hoverKey, childProps);\n      }\n\n      _this.hoverChildProps_ = childProps;\n      _this.hoverKey_ = hoverKey;\n      _this.setState({ hoverKey: hoverKey });\n    };\n\n    _this._onChildMouseLeave = function () {\n      if (!_this.dimensionsCache_) {\n        return;\n      }\n\n      var hoverKey = _this.hoverKey_;\n      var childProps = _this.hoverChildProps_;\n\n      if (hoverKey !== undefined && hoverKey !== null) {\n        if (_this.props.onChildMouseLeave) {\n          _this.props.onChildMouseLeave(hoverKey, childProps);\n        }\n\n        _this.hoverKey_ = null;\n        _this.hoverChildProps_ = null;\n        _this.setState({ hoverKey: null });\n      }\n    };\n\n    _this._onMouseAllow = function (value) {\n      if (!value) {\n        _this._onChildMouseLeave();\n      }\n\n      _this.allowMouse_ = value;\n    };\n\n    _this._onMouseChangeHandler = function () {\n      if (_this.allowMouse_) {\n        _this._onMouseChangeHandlerRaf();\n      }\n    };\n\n    _this._onMouseChangeHandlerRaf = function () {\n      if (!_this.dimensionsCache_) {\n        return;\n      }\n\n      var mp = _this.props.dispatcher.getMousePosition();\n\n      if (mp) {\n        var distances = [];\n        var hoverDistance = _this.props.getHoverDistance();\n\n        _react2.default.Children.forEach(_this.state.children, function (child, childIndex) {\n          if (!child) return;\n          // layers\n          if (child.props.latLng === undefined && child.props.lat === undefined && child.props.lng === undefined) {\n            return;\n          }\n\n          var childKey = child.key !== undefined && child.key !== null ? child.key : childIndex;\n          var dist = _this.props.distanceToMouse(_this.dimensionsCache_[childKey], mp, child.props);\n          if (dist < hoverDistance) {\n            distances.push({\n              key: childKey,\n              dist: dist,\n              props: child.props\n            });\n          }\n        });\n\n        if (distances.length) {\n          distances.sort(function (a, b) {\n            return a.dist - b.dist;\n          });\n          var hoverKey = distances[0].key;\n          var childProps = distances[0].props;\n\n          if (_this.hoverKey_ !== hoverKey) {\n            _this._onChildMouseLeave();\n\n            _this._onChildMouseEnter(hoverKey, childProps);\n          }\n        } else {\n          _this._onChildMouseLeave();\n        }\n      } else {\n        _this._onChildMouseLeave();\n      }\n    };\n\n    _this._getDimensions = function (key) {\n      var childKey = key;\n      return _this.dimensionsCache_[childKey];\n    };\n\n    _this.props.dispatcher.on('kON_CHANGE', _this._onChangeHandler);\n    _this.props.dispatcher.on('kON_MOUSE_POSITION_CHANGE', _this._onMouseChangeHandler);\n    _this.props.dispatcher.on('kON_CLICK', _this._onChildClick);\n    _this.props.dispatcher.on('kON_MDOWN', _this._onChildMouseDown);\n\n    _this.dimensionsCache_ = {};\n    _this.hoverKey_ = null;\n    _this.hoverChildProps_ = null;\n    _this.allowMouse_ = true;\n\n    _this.state = _extends({}, _this._getState(), { hoverKey: null });\n    return _this;\n  }\n  /* eslint-enable react/forbid-prop-types */\n\n  GoogleMapMarkers.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.experimental === true) {\n      return !(0, _shallowEqual2.default)(this.props, nextProps) || !(0, _shallowEqual2.default)((0, _omit2.default)(this.state, ['hoverKey']), (0, _omit2.default)(nextState, ['hoverKey']));\n    }\n\n    return !(0, _shallowEqual2.default)(this.props, nextProps) || !(0, _shallowEqual2.default)(this.state, nextState);\n  };\n\n  GoogleMapMarkers.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.dispatcher.removeListener('kON_CHANGE', this._onChangeHandler);\n    this.props.dispatcher.removeListener('kON_MOUSE_POSITION_CHANGE', this._onMouseChangeHandler);\n    this.props.dispatcher.removeListener('kON_CLICK', this._onChildClick);\n    this.props.dispatcher.removeListener('kON_MDOWN', this._onChildMouseDown);\n\n    this.dimensionsCache_ = null;\n  };\n\n  GoogleMapMarkers.prototype.render = function render() {\n    var _this2 = this;\n\n    var mainElementStyle = this.props.style || mainStyle;\n    this.dimensionsCache_ = {};\n\n    var markers = _react2.default.Children.map(this.state.children, function (child, childIndex) {\n      if (!child) return undefined;\n      if (child.props.latLng === undefined && child.props.lat === undefined && child.props.lng === undefined) {\n        return _react2.default.cloneElement(child, {\n          $geoService: _this2.props.geoService,\n          $onMouseAllow: _this2._onMouseAllow,\n          $prerender: _this2.props.prerender\n        });\n      }\n\n      var latLng = child.props.latLng !== undefined ? child.props.latLng : { lat: child.props.lat, lng: child.props.lng };\n\n      var pt = _this2.props.insideMapPanes ? _this2.props.geoService.fromLatLngToDivPixel(latLng) : _this2.props.geoService.fromLatLngToCenterPixel(latLng);\n\n      var stylePtPos = {\n        left: pt.x,\n        top: pt.y\n      };\n\n      // If the component has a southeast corner defined (either as a LatLng, or a separate\n      // lat and lng pair), set the width and height based on the distance between the northwest\n      // and the southeast corner to lock the overlay to the correct geographic bounds.\n      if (child.props.seLatLng !== undefined || child.props.seLat !== undefined && child.props.seLng !== undefined) {\n        var seLatLng = child.props.seLatLng !== undefined ? child.props.seLatLng : { lat: child.props.seLat, lng: child.props.seLng };\n\n        var sePt = _this2.props.insideMapPanes ? _this2.props.geoService.fromLatLngToDivPixel(seLatLng) : _this2.props.geoService.fromLatLngToCenterPixel(seLatLng);\n\n        stylePtPos.width = sePt.x - pt.x;\n        stylePtPos.height = sePt.y - pt.y;\n      }\n\n      var containerPt = _this2.props.geoService.fromLatLngToContainerPixel(latLng);\n\n      // to prevent rerender on child element i need to pass\n      // const params $getDimensions and $dimensionKey instead of dimension object\n      var childKey = child.key !== undefined && child.key !== null ? child.key : childIndex;\n\n      _this2.dimensionsCache_[childKey] = _extends({\n        x: containerPt.x,\n        y: containerPt.y\n      }, latLng);\n\n      return _react2.default.createElement(\n        'div',\n        {\n          key: childKey,\n          style: _extends({}, style, stylePtPos),\n          className: child.props.$markerHolderClassName\n        },\n        _react2.default.cloneElement(child, {\n          $hover: childKey === _this2.state.hoverKey,\n          $getDimensions: _this2._getDimensions,\n          $dimensionKey: childKey,\n          $geoService: _this2.props.geoService,\n          $onMouseAllow: _this2._onMouseAllow,\n          $prerender: _this2.props.prerender\n        })\n      );\n    });\n\n    return _react2.default.createElement(\n      'div',\n      { style: mainElementStyle },\n      markers\n    );\n  };\n\n  return GoogleMapMarkers;\n}(_react.Component);\n\nGoogleMapMarkers.propTypes = {\n  geoService: _propTypes2.default.any,\n  style: _propTypes2.default.any,\n  distanceToMouse: _propTypes2.default.func,\n  dispatcher: _propTypes2.default.any,\n  onChildClick: _propTypes2.default.func,\n  onChildMouseDown: _propTypes2.default.func,\n  onChildMouseLeave: _propTypes2.default.func,\n  onChildMouseEnter: _propTypes2.default.func,\n  getHoverDistance: _propTypes2.default.func,\n  insideMapPanes: _propTypes2.default.bool,\n  prerender: _propTypes2.default.bool\n};\nGoogleMapMarkers.defaultProps = {\n  insideMapPanes: false,\n  prerender: false\n};\nexports.default = GoogleMapMarkers;"]},"metadata":{},"sourceType":"script"}