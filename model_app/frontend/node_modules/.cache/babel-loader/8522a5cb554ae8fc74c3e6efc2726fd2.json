{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _pointGeometry = require('@mapbox/point-geometry');\n\nvar _pointGeometry2 = _interopRequireDefault(_pointGeometry);\n\nvar _lat_lng = require('./lib_geo/lat_lng');\n\nvar _lat_lng2 = _interopRequireDefault(_lat_lng);\n\nvar _transform = require('./lib_geo/transform');\n\nvar _transform2 = _interopRequireDefault(_transform);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar Geo = function () {\n  function Geo(tileSize) {\n    _classCallCheck(this, Geo); // left_top view пользует гугл\n    // super();\n\n\n    this.hasSize_ = false;\n    this.hasView_ = false;\n    this.transform_ = new _transform2.default(tileSize || 512);\n  }\n\n  Geo.prototype.setView = function setView(center, zoom, bearing) {\n    this.transform_.center = _lat_lng2.default.convert(center);\n    this.transform_.zoom = +zoom;\n    this.transform_.bearing = +bearing;\n    this.hasView_ = true;\n  };\n\n  Geo.prototype.setViewSize = function setViewSize(width, height) {\n    this.transform_.width = width;\n    this.transform_.height = height;\n    this.hasSize_ = true;\n  };\n\n  Geo.prototype.setMapCanvasProjection = function setMapCanvasProjection(maps, mapCanvasProjection) {\n    this.maps_ = maps;\n    this.mapCanvasProjection_ = mapCanvasProjection;\n  };\n\n  Geo.prototype.canProject = function canProject() {\n    return this.hasSize_ && this.hasView_;\n  };\n\n  Geo.prototype.hasSize = function hasSize() {\n    return this.hasSize_;\n  };\n  /** Returns the pixel position relative to the map center. */\n\n\n  Geo.prototype.fromLatLngToCenterPixel = function fromLatLngToCenterPixel(ptLatLng) {\n    return this.transform_.locationPoint(_lat_lng2.default.convert(ptLatLng));\n  };\n  /**\n   * Returns the pixel position relative to the map panes,\n   * or relative to the map center if there are no panes.\n   */\n\n\n  Geo.prototype.fromLatLngToDivPixel = function fromLatLngToDivPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      var latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToDivPixel(latLng);\n    }\n\n    return this.fromLatLngToCenterPixel(ptLatLng);\n  };\n  /** Returns the pixel position relative to the map top-left. */\n\n\n  Geo.prototype.fromLatLngToContainerPixel = function fromLatLngToContainerPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      var latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToContainerPixel(latLng);\n    }\n\n    var pt = this.fromLatLngToCenterPixel(ptLatLng);\n    pt.x -= this.transform_.worldSize * Math.round(pt.x / this.transform_.worldSize);\n    pt.x += this.transform_.width / 2;\n    pt.y += this.transform_.height / 2;\n    return pt;\n  };\n  /** Returns the LatLng for the given offset from the map top-left. */\n\n\n  Geo.prototype.fromContainerPixelToLatLng = function fromContainerPixelToLatLng(ptXY) {\n    if (this.mapCanvasProjection_) {\n      var latLng = this.mapCanvasProjection_.fromContainerPixelToLatLng(ptXY);\n      return {\n        lat: latLng.lat(),\n        lng: latLng.lng()\n      };\n    }\n\n    var ptxy = _extends({}, ptXY);\n\n    ptxy.x -= this.transform_.width / 2;\n    ptxy.y -= this.transform_.height / 2;\n    var ptRes = this.transform_.pointLocation(_pointGeometry2.default.convert(ptxy));\n    ptRes.lng -= 360 * Math.round(ptRes.lng / 360); // convert 2 google format\n\n    return ptRes;\n  };\n\n  Geo.prototype.getWidth = function getWidth() {\n    return this.transform_.width;\n  };\n\n  Geo.prototype.getHeight = function getHeight() {\n    return this.transform_.height;\n  };\n\n  Geo.prototype.getZoom = function getZoom() {\n    return this.transform_.zoom;\n  };\n\n  Geo.prototype.getCenter = function getCenter() {\n    var ptRes = this.transform_.pointLocation({\n      x: 0,\n      y: 0\n    });\n    return ptRes;\n  };\n\n  Geo.prototype.getBounds = function getBounds(margins, roundFactor) {\n    var bndT = margins && margins[0] || 0;\n    var bndR = margins && margins[1] || 0;\n    var bndB = margins && margins[2] || 0;\n    var bndL = margins && margins[3] || 0;\n\n    if (this.getWidth() - bndR - bndL > 0 && this.getHeight() - bndT - bndB > 0) {\n      var topLeftCorner = this.transform_.pointLocation(_pointGeometry2.default.convert({\n        x: bndL - this.getWidth() / 2,\n        y: bndT - this.getHeight() / 2\n      }));\n      var bottomRightCorner = this.transform_.pointLocation(_pointGeometry2.default.convert({\n        x: this.getWidth() / 2 - bndR,\n        y: this.getHeight() / 2 - bndB\n      }));\n      var res = [topLeftCorner.lat, topLeftCorner.lng, // NW\n      bottomRightCorner.lat, bottomRightCorner.lng, // SE\n      bottomRightCorner.lat, topLeftCorner.lng, // SW\n      topLeftCorner.lat, bottomRightCorner.lng];\n\n      if (roundFactor) {\n        res = res.map(function (r) {\n          return Math.round(r * roundFactor) / roundFactor;\n        });\n      }\n\n      return res;\n    }\n\n    return [0, 0, 0, 0];\n  };\n\n  return Geo;\n}();\n\nexports.default = Geo;","map":{"version":3,"sources":["/Users/davidyang/Documents/Website/model_app/frontend/node_modules/google-map-react/lib/utils/geo.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_pointGeometry","require","_pointGeometry2","_interopRequireDefault","_lat_lng","_lat_lng2","_transform","_transform2","obj","default","_classCallCheck","instance","Constructor","TypeError","Geo","tileSize","hasSize_","hasView_","transform_","setView","center","zoom","bearing","convert","setViewSize","width","height","setMapCanvasProjection","maps","mapCanvasProjection","maps_","mapCanvasProjection_","canProject","hasSize","fromLatLngToCenterPixel","ptLatLng","locationPoint","fromLatLngToDivPixel","latLng","LatLng","lat","lng","fromLatLngToContainerPixel","pt","x","worldSize","Math","round","y","fromContainerPixelToLatLng","ptXY","ptxy","ptRes","pointLocation","getWidth","getHeight","getZoom","getCenter","getBounds","margins","roundFactor","bndT","bndR","bndB","bndL","topLeftCorner","bottomRightCorner","res","map","r"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _pointGeometry = require('@mapbox/point-geometry');\n\nvar _pointGeometry2 = _interopRequireDefault(_pointGeometry);\n\nvar _lat_lng = require('./lib_geo/lat_lng');\n\nvar _lat_lng2 = _interopRequireDefault(_lat_lng);\n\nvar _transform = require('./lib_geo/transform');\n\nvar _transform2 = _interopRequireDefault(_transform);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Geo = function () {\n  function Geo(tileSize) {\n    _classCallCheck(this, Geo);\n\n    // left_top view пользует гугл\n    // super();\n    this.hasSize_ = false;\n    this.hasView_ = false;\n    this.transform_ = new _transform2.default(tileSize || 512);\n  }\n\n  Geo.prototype.setView = function setView(center, zoom, bearing) {\n    this.transform_.center = _lat_lng2.default.convert(center);\n    this.transform_.zoom = +zoom;\n    this.transform_.bearing = +bearing;\n    this.hasView_ = true;\n  };\n\n  Geo.prototype.setViewSize = function setViewSize(width, height) {\n    this.transform_.width = width;\n    this.transform_.height = height;\n    this.hasSize_ = true;\n  };\n\n  Geo.prototype.setMapCanvasProjection = function setMapCanvasProjection(maps, mapCanvasProjection) {\n    this.maps_ = maps;\n    this.mapCanvasProjection_ = mapCanvasProjection;\n  };\n\n  Geo.prototype.canProject = function canProject() {\n    return this.hasSize_ && this.hasView_;\n  };\n\n  Geo.prototype.hasSize = function hasSize() {\n    return this.hasSize_;\n  };\n\n  /** Returns the pixel position relative to the map center. */\n\n\n  Geo.prototype.fromLatLngToCenterPixel = function fromLatLngToCenterPixel(ptLatLng) {\n    return this.transform_.locationPoint(_lat_lng2.default.convert(ptLatLng));\n  };\n\n  /**\n   * Returns the pixel position relative to the map panes,\n   * or relative to the map center if there are no panes.\n   */\n\n\n  Geo.prototype.fromLatLngToDivPixel = function fromLatLngToDivPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      var latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToDivPixel(latLng);\n    }\n    return this.fromLatLngToCenterPixel(ptLatLng);\n  };\n\n  /** Returns the pixel position relative to the map top-left. */\n\n\n  Geo.prototype.fromLatLngToContainerPixel = function fromLatLngToContainerPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      var latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToContainerPixel(latLng);\n    }\n\n    var pt = this.fromLatLngToCenterPixel(ptLatLng);\n    pt.x -= this.transform_.worldSize * Math.round(pt.x / this.transform_.worldSize);\n\n    pt.x += this.transform_.width / 2;\n    pt.y += this.transform_.height / 2;\n\n    return pt;\n  };\n\n  /** Returns the LatLng for the given offset from the map top-left. */\n\n\n  Geo.prototype.fromContainerPixelToLatLng = function fromContainerPixelToLatLng(ptXY) {\n    if (this.mapCanvasProjection_) {\n      var latLng = this.mapCanvasProjection_.fromContainerPixelToLatLng(ptXY);\n      return { lat: latLng.lat(), lng: latLng.lng() };\n    }\n\n    var ptxy = _extends({}, ptXY);\n    ptxy.x -= this.transform_.width / 2;\n    ptxy.y -= this.transform_.height / 2;\n    var ptRes = this.transform_.pointLocation(_pointGeometry2.default.convert(ptxy));\n\n    ptRes.lng -= 360 * Math.round(ptRes.lng / 360); // convert 2 google format\n    return ptRes;\n  };\n\n  Geo.prototype.getWidth = function getWidth() {\n    return this.transform_.width;\n  };\n\n  Geo.prototype.getHeight = function getHeight() {\n    return this.transform_.height;\n  };\n\n  Geo.prototype.getZoom = function getZoom() {\n    return this.transform_.zoom;\n  };\n\n  Geo.prototype.getCenter = function getCenter() {\n    var ptRes = this.transform_.pointLocation({ x: 0, y: 0 });\n\n    return ptRes;\n  };\n\n  Geo.prototype.getBounds = function getBounds(margins, roundFactor) {\n    var bndT = margins && margins[0] || 0;\n    var bndR = margins && margins[1] || 0;\n    var bndB = margins && margins[2] || 0;\n    var bndL = margins && margins[3] || 0;\n\n    if (this.getWidth() - bndR - bndL > 0 && this.getHeight() - bndT - bndB > 0) {\n      var topLeftCorner = this.transform_.pointLocation(_pointGeometry2.default.convert({\n        x: bndL - this.getWidth() / 2,\n        y: bndT - this.getHeight() / 2\n      }));\n      var bottomRightCorner = this.transform_.pointLocation(_pointGeometry2.default.convert({\n        x: this.getWidth() / 2 - bndR,\n        y: this.getHeight() / 2 - bndB\n      }));\n\n      var res = [topLeftCorner.lat, topLeftCorner.lng, // NW\n      bottomRightCorner.lat, bottomRightCorner.lng, // SE\n      bottomRightCorner.lat, topLeftCorner.lng, // SW\n      topLeftCorner.lat, bottomRightCorner.lng];\n\n      if (roundFactor) {\n        res = res.map(function (r) {\n          return Math.round(r * roundFactor) / roundFactor;\n        });\n      }\n      return res;\n    }\n\n    return [0, 0, 0, 0];\n  };\n\n  return Geo;\n}();\n\nexports.default = Geo;"]},"metadata":{},"sourceType":"script"}